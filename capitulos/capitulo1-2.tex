\section{Coordenadas y cambio de base}

Como ya mencionamos en la sección anterior, dada una base existe una única combinación lineal de elementos de la base para cada vector del espacio, esto nos permite generalizar el concepto de coordenadas. En esta sección abordaremos a más detalle este tema.


\begin{defi}
  Sea $V$ un $\F$-espacio vectorial de dimensión $n$, decimos que $B = (v_1, v_2, \ldots, v_n)$ es una \emph{base ordenada} si $\{v_1, v_2, \ldots, v_n\}$ es una base de $V$. Además para todo $v \in V$ donde $v = \lambda_1 v_1 + \cdots + \lambda_n v_n$, definiremos su \emph{coordenada con respecto a $B$} como
    \[ [v]_B = \begin{pmatrix}
      v_1 \\ \vdots \\ v_n
    \end{pmatrix}.\]
\end{defi}

Notemos que bajo esta definición $(v_1, v_1, \ldots, v_n)$ y $(v_2, v_1, \ldots, v_n)$ son dos bases ordenadas distintas, al igual que cualquier otra permutación, aunque provengan de la misma base. De este modo nos aseguraremos que la coordenada de cualquier elementos sea única. Una propiedad interesante es que esta asociación de vectores de $V$ con $n$-tuplas de $\F^n$ forma una transformación lineal biyectiva.

\begin{prop}
  Sea $B$ una base ordenada del $\F$-espacio vectorial $V$, entonces la función $[\cdot]_B\colon V \to \F^n$ es un isomorfismo.
\end{prop}
\begin{proof}
  Sea $v,w \in V$ con $v = \lambda_1 v_1 + \cdots + \lambda_n v_n$, $w = \mu_1 v_1 + \cdots + \mu_n v_n$ y $\alpha \in K$, entonces veamos que
  \[
  \alpha v+w =  (\alpha\lambda_1+\mu_1) v_1 + \cdots + (\alpha\lambda_n+\mu_n) v_n,
  \]
  de esta forma es claro que
  \begin{align*}
    [v+w]_B 
      &= \begin{pmatrix} \alpha\lambda_1+\mu_n \\ \vdots \\ \alpha\lambda_n+\mu_n \end{pmatrix} \\
      &= \alpha\begin{pmatrix} \lambda_1 \\ \vdots \\ \lambda_n \end{pmatrix}
       + \begin{pmatrix} \mu_n \\ \vdots \\ \mu_n  \end{pmatrix} \\
      &= \alpha[v]_B + [w]_B.
  \end{align*}
  Mostrando así, que es una transformación lineal. Para la inyectividad, es claro que si $[v]_B = (0,\cdots,0)$ entonces $v = 0v_1 + \cdots + 0v_n = 0$, por lo que $\ker([\cdot]_B) = \{0\}$. Para la suprayectividad, claramente tenemos que para todo $(\lambda_1, \ldots, \lambda_n)^T \in \F^n$ se cumple que $\lambda_1 v_1 + \cdots + \lambda_n v_n \in V$ y  $[\lambda_1 v_1 + \cdots  + \lambda_n v_n]_B = (\lambda_1, \ldots, \lambda_n)^T$.
\end{proof}


\subsection{Cambio de base}

Sabemos que dadas dos bases ordenadas $B = (v_1,\ldots,v_n)$ y $B' = (v_1',\ldots,v_n')$ de $V$ es posible definir un sistema de coordenadas para cada una, pero dado que modelan el mismo espacío, debería existir una forma de asociar ambas coordenadas, es decir, debería existir una función tal que dada la coordenada de $v \in V$ con respecto a $B$ nos devuelva su coordenada con respecto a $B'$. Más precisamente, buscamos que para $B$ y $B'$ exista una matriz invertible $M$ tal que $M [v]_B = [v]_{B'}$ para todo $v \in V$. A esta matriz la denotaremos como $M_{B,B'}$ y la llamaremos como matriz de \emph{cambio de base} o \emph{cambio de coordenadas}.

La idea es la siguiente, si $e_i$ es la $i$-ésima columna de la matriz identidad, entonces por definición $[v_i]_B = e_i$, de este modo si $M_{B,B'} [v]_B = [v]_{B'}$ para todo $v \in V$, entonces
  \[ M_{B,B'} [v_i]_B = M_{B,B'} e_i = (M_{B,B'})_{*i} = [v_i]_{B'}. \]
Esto nos dice que $[v_i]_{B'}$ es la $i$-ésima columna de la matriz $M_{B,B'}$, en otras palabras que
  \[ M_{B,B'} = \begin{spmatrix}{c|c|c}  [v_1]_{B'} & \cdots & [v_n]_{B'}  \end{spmatrix}. \]

\begin{teor}
  Sea $V$ un $F$-espacio vectorial con bases ordenadas $B = (v_1,\cdots,v_n)$ y $B' = (v_1',\cdots,v_n')$, entonces existe una única matriz invertible $M_{B,B'}$ tal que para todo $v \in V$ se cumple que
    \[ M_{B,B'}[v]_B = [v]_{B'} \Eqand M_{B,B'}^{-1}[v]_{B'} = [v]_B. \]
  Además $(M_{B,B'})_{*i} = [v_i]_{B'}$ para todo $i \in \{1,\ldots,n\}$.
\end{teor}
\begin{proof}
  Primero, notemos que por propiedades conocidas y la definición de $M_{B,B'}$ es claro que 
    \[ M_{B,B'}[v_i]_B = M_{B,B'} e_i =  (M_{B,B'})_{*i} = [v_i]_{B'}. \]

  De este modo, sea $v \in V$ con $[v]_B = (\lambda_1,\ldots,\lambda_n)^T$, por la linealidad de $[\cdot]_{B'}$ y las propiedad ya mencionadas, tenemos que
    \begin{align*}
      v        &= \lambda_1 v_1 + \cdots + \lambda_n v_n, \\
      [v]_{B'} &= \lambda_1 [v_1]_{B'} + \cdots + \lambda_n [v_n]_{B'} \\
               &= \lambda_1 M_{B,B'}[v_1]_B + \cdots + \lambda_n M_{B,B'}[v_n]_B \\
               &= M_{B,B'} [\lambda_1 v_1 + \cdots + \lambda_n v_n ]_B \\
               &= M_{B,B'} [ v ]_B.
    \end{align*}
  De este modo $M_{B,B'}[v]_B = [v]_{B'}$ para toda $v \in B$. Es fácil ver que si $M_{B,B'}$ es invertible, entonces $M_{B,B'}^{-1}[v]_{B'} = [v]_B$, así solo nos queda demostrar que $M_{B,B'}$ es invertible.
  
  Consideremos el sistema de ecuaciones $M_{B,B'}x = \bec 0$, como $[\cdot]_B$ es suprayectivo, entonces existe $v \in V$ tal que $[v]_B = x$, de este modo $M_{B,B'}x = \bec 0$ implica que $M_{B,B'}[v]_B = [v]_{B'} = \bec 0$. Ahora, recordemos por inyectividad de $[\cdot]_{B'}$ que $[v]_{B'} = \bec 0$ si y solo si $v = 0$, de este modo $x = [v]_{B} = \bec 0$, pero esto implica que $M_{B,B'}x = \bec 0$ no tiene soluciones no triviales, así, por propiedades de las matrices, tenemos que $M_{B,B'}$ es invertible.

  La unicidad se da por el análisis hecho al principio. Si existiera otra matriz $P$ con las mismas cualidades, entonces para todo $i \in \{1,\ldots, n\}$ cumple que
  \[ (M_{B,B'})_{*i} = [v_i]_{B'} = P[v_i]_{B} = Pe_i = P_{*i},\]
  de este modo, dado que todas las columnas son iguales, se cumple que $P = M_{B,B'}$.
\end{proof}

Este teorema nos afirma que si tenemos una base ordenada $B$ y entonces para cualquier otra base ordenada $B'$ existe una matriz invertible asociada que realiza el cambio de coordenadas. La vuelta de esta proposición también es cierta, de este modo existe una biyección entre el conjunto de bases ordenadas y el conjunto de matrices invertibles.

\begin{prop}
  Sea $P$ una matriz de $n\times n$ con entradas en $\F$, $V$ un $\F$-espacio vectorial y $B = (v_1, \ldots, v_n)$ una base ordenada, entonces existe una única base ordenada $B'$ tal que $M_{B',B} = P$.
\end{prop}
\begin{proof}
  Si $P = (p_{ij})$ entonces definamos $B' = (v_1', \ldots, v_n')$ donde
    \[ v_j' = p_{1j}v_1 + \cdots +  p_{nj}v_n,     \qquad j \in \{1,\ldots, n\}. \]
  Notemos que $[v_i]_B = P_{*i}$ para toda $i \in 1,\cdots,n$, de este modo si $B'$ fuese una base ordenada, entonces $P = M_{B',B}$, por el teorema anterior. Así probemos que $B'$ es una base ordenada.

  Sea $\lambda_1 v_i' + \cdots + \lambda_n v_n' = 0$, por linealidad de $[\cdot]_B$ y definición, tenemos que si $\lambda = (\lambda_1, \ldots, \lambda_n)^T$, entonces
  \begin{align*}
    \lambda_1 [v_1']_B + \cdots + \lambda_n [v_n']_B &= \bec 0 ,\\
    \lambda_1 P_{*1} + \cdots + \lambda_n P_{*n} &= \bec 0 ,\\
    P\lambda &= \bec 0.
  \end{align*}
  Ahora, como $P$ es invertible por hipótesis, entonces la única solución al sistema $Px = \bec 0$ es la trivial, de este modo $\lambda = \bec 0$ y por tanto $B'$ es una base ordenada.

  Ahora, para la unicidad, supongamos que existe otra base ordenada $B'' = (v_1'', \ldots, v_n'')$ tal que $P = M_{B'',B}$, entonces, para toda $i \in \{1,\ldots,n\}$ se cumple que
  \[ [v_i'']_B =  P[v_i'']_{B''} = Pe_i = P[v_i']_{B'} = [v_i']_B, \]
  así, por la biyectividad de $[\cdot]_B$, tenemos que $v_i'' = v_i'$ para toda $i \in \{1,\ldots,n\}$, mostrando así que $B'' = B'$.
\end{proof}
